---
layout: page
title: 外部トラッキングアプリとの連携
permalink: /tips/external_tracker
---

[English](../en/tips/external_tracker)

# Tips: 外部トラッキングアプリとの連携

`VMagicMirror` v1.1.0以降ではWebカメラを用いる代わり、外部トラッキングアプリを用いてもアバターを操作できます。

v1.1.0の時点ではiOSアプリにのみ対応しています。

※tweetをここに貼るかもしれません


#### あらかじめ準備すること
{: .doc-sec2 }

VMagicMirrorをiOSアプリと連携するために、以下の準備を行います。

・PCと端末が同一のLAN環境に接続できるようにします。

・LANでの通信が安定していることを確認します。

・iOS端末をデバイスをWebカメラのように、安定した位置における台などがあること


#### セットアップ方法
{: .doc-sec2 }

VMagicMirrorのコントロールパネルで`Ex Tracker`タブを選択し、`外部トラッキングを有効化`チェックをオンにします。

<div class="row">
{% include docimg.html file="./images/tips/ex_tracker_00_enable_feature.png" customclass="col l6 m6 s12" imgclass="fit-doc-img" %}
</div>

`外部トラッキングを有効化`チェックをオンにすることで、外部アプリと接続できる状態になります。

アプリごとの連携方法については以下のリンクを参照ください。

[iFacialMocapとの連携](./external_tracker_ifacialmocap)

(他のアプリケーションがサポートされる場合、ここに別途追記されます。)


#### 外部アプリによるリップシンクを使う
{: .doc-sec2 }

`リップシンクも外部トラッキングの値を使用`をオンにすると、口の動きについても外部アプリがキャプチャした値が適用されます。

<div class="row">
{% include docimg.html file="./images/tips/ex_tracker_40_replace_lipsync.png" customclass="col l6 m6 s12" imgclass="fit-doc-img" %}
</div>

この機能をオンにするとPC上でマイクによるリップシンクを行わなくなり、PCのCPU負荷がより低く抑えられます。

また外部アプリはカメラ画像から口の形を取得するため、小声で喋っているような場合も口の動きが反映されます。


いっぽう、マイクで口元が遮られている場合などはトラッキング精度が下がります。

この場合は`リップシンクも外部トラッキングの値を使用`をオフにし、従来のマイクによるリップシンクを使うことを検討してください。


#### 表情スイッチ機能を使う
{: .doc-sec2 }

表情スイッチ機能は、ユーザーの表情を使ってアバターの表情を切り替えられる機能です。

<div class="row">
{% include docimg.html file="./images/tips/ex_tracker_50_face_switch.png" customclass="col l6 m6 s12" imgclass="fit-doc-img" %}
</div>

表情スイッチ機能をセットアップするには「しきい値」「表情」「リップシンクの続行オン/オフ」の3種類のパラメータを指定します。

`しきい値`: どの程度その表情を大きく行うと表情が切り替わるかを指定します。

`表情`: 適用するブレンドシェイプ名を指定します。特に何もしてほしくない場合、`(何もしない)`を指定します。

`リップシンクを続行`: 目だけが切り替わるブレンドシェイプに対し、このチェックをオンにすることで、表情を切り替えたままリップシンクを動かし続けます。

個人差や表情のタイプによっては反応しにくいものもあることに注意してください。


なお、この機能は顔トラッキングの延長であるほか、ユーザーの表情を一種のショートカットキーとして使える機能でもあります。

たとえば「舌を出したら悲しい表情になる」など、見た目の上では対応関係がないような割り当ても活用できます。


**NOTE:** `Word to Motion`機能による表情切り替えと表情スイッチを同時に使用した場合、`Word to Motion`機能による表情が優先して適用されます。

